<app-dashboard-content-wrapper
  title="Categories"
  i18n-title="@@stats.page-title"
>
  @if (!isMainRoute()) {
    <router-outlet></router-outlet>
  } @else {
    <div class="action-button-container">
      <button
        matButton="elevated"
        (click)="navigateToNewCategory()"
        class="action-button"
      >
        Add category
      </button>
    </div>
    <table mat-table [dataSource]="tableData()">
      <ng-container [matColumnDef]="this.CategoryColumnsEnum.ID">
        <th mat-header-cell *matHeaderCellDef>ID</th>
        <td mat-cell *matCellDef="let element">{{ element.id }}</td>
        <td mat-footer-cell *matFooterCellDef>Total</td>
      </ng-container>

      <ng-container [matColumnDef]="this.CategoryColumnsEnum.NAME">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let element">{{ element.name }}</td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <ng-container [matColumnDef]="this.CategoryColumnsEnum.DESCRIPTION">
        <th mat-header-cell *matHeaderCellDef>Description</th>
        <td mat-cell *matCellDef="let element">{{ element.description }}</td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <ng-container [matColumnDef]="this.CategoryColumnsEnum.CREATED_AT">
        <th mat-header-cell *matHeaderCellDef>Created At</th>
        <td mat-cell *matCellDef="let element">
          {{ element.createdAt | date }}
        </td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <ng-container [matColumnDef]="this.CategoryColumnsEnum.UPDATED_AT">
        <th mat-header-cell *matHeaderCellDef>Updated At</th>
        <td mat-cell *matCellDef="let element">
          {{ element.updatedAt | date }}
        </td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <ng-container [matColumnDef]="this.CategoryColumnsEnum.ACTIONS">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let element">
          <button
            mat-icon-button
            (click)="navigateToCategoryEdit(element.id)"
            color="primary"
          >
            <mat-icon>edit</mat-icon>
          </button>
          <button
            mat-icon-button
            color="warn"
            (click)="openDeleteDialog(element.id)"
          >
            <mat-icon>delete</mat-icon>
          </button>
        </td>
        <td mat-footer-cell *matFooterCellDef>{{ tableData().length }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns()"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns()"></tr>
      <tr mat-footer-row *matFooterRowDef="displayedColumns()"></tr>
    </table>
  }
</app-dashboard-content-wrapper>
